<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Les Indispensables du Latin Juridique</title>
    
    <!-- FAVICON -->
    <link rel="icon" type="image/png" href="https://projettechacademy.github.io/Juridique/Asset/Logo_juriste.png">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Polices -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;800&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=Lato:wght@300;400;700&family=Montserrat:wght@500;600;700&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Outfit', 'sans-serif'], serif: ['Playfair Display', 'serif'] },
                    colors: {
                        brandBlue: '#0F2C48',
                        brandGold: '#D9A526',
                        brandIvory: '#F6F2E8',
                        brandBronze: '#B4792A',
                    }
                }
            }
        }
    </script>

    <style>
        :root{
            --cta: #D9A526;
            --cta-page: #D9A526; /* Gold pour cette page aussi */
            --cta-page-gradient: linear-gradient(135deg, #B4792A 0%, #D9A526 50%, #F2C94C 100%); /* D√©grad√© Dor√© Premium */
            --brand-blue: #0F2C48;
            --ivory: #F6F2E8;
            --bronze: #B4792A;
        }

        body { background-color: #FAFAFA; color: var(--brand-blue); font-family: 'Outfit', sans-serif; display: flex; flex-direction: column; min-height: 100vh; }
        .serif-font { font-family: 'Playfair Display', serif; }

        /* --- HEADER STYL√â --- */
        .top-banner {
            background: linear-gradient(to right, #0F2C48, #163b5e);
            color: white;
            box-shadow: 0 10px 30px -10px rgba(15,44,72,0.5);
            border-bottom: 4px solid var(--cta);
            position: sticky; top: 0; z-index: 50;
        }
        
        /* Boutons Icones (Base) */
        .icon-btn {
            position: relative; width: 40px; height: 40px; border-radius: 50%;
            background: rgba(255, 255, 255, 0.08); border: 1px solid rgba(217, 165, 38, 0.4);
            display: flex; align-items: center; justify-content: center;
            font-size: 1.1rem; text-decoration: none; color: #fff;
            transition: all 0.3s;
        }
        .icon-btn:hover { 
            transform: translateY(-3px); background: #fff; border-color: #fff; box-shadow: 0 4px 10px rgba(217, 165, 38, 0.3); color: var(--brand-blue);
        }

        /* Onglets PAGE (Lexique/Jeu) - Style Premium Gold */
        .tab-icon-btn {
            position: relative; width: 45px; height: 45px; border-radius: 50%;
            background: rgba(217, 165, 38, 0.1); /* Fond dor√© l√©ger */
            border: 2px solid var(--cta-page); /* Bordure dor√©e */
            color: #fff; display: flex; align-items: center; justify-content: center;
            font-size: 1.2rem; cursor: pointer; transition: all 0.3s;
        }
        .tab-icon-btn:hover {
            background: var(--cta-page-gradient); color: white; transform: scale(1.1); box-shadow: 0 4px 15px rgba(217, 165, 38, 0.4); border-color: transparent;
        }
        .tab-icon-btn.active {
            background: var(--cta-page-gradient); color: white; box-shadow: 0 4px 10px rgba(217, 165, 38, 0.3); border-color: transparent;
        }

        /* --- TOOLTIPS (INFOBULLES) CORRIG√âS --- */
        
        /* Style de base commun */
        .icon-btn::after, .tab-icon-btn::after {
            content: attr(data-tooltip); 
            position: absolute; 
            left: 50%; 
            transform: translateX(-50%);
            background-color: #fff; 
            color: var(--brand-blue); 
            padding: 5px 10px; 
            border-radius: 6px;
            font-size: 0.75rem; 
            font-weight: 700; 
            white-space: nowrap; 
            opacity: 0; 
            visibility: hidden;
            transition: all 0.2s ease-in-out; 
            pointer-events: none; 
            z-index: 100; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            border: 1px solid rgba(0,0,0,0.1);
        }
        
        /* Affichage au survol */
        .icon-btn:hover::after, .tab-icon-btn::hover::after { opacity: 1; visibility: visible; }

        /* SPECIFIQUE HEADER : Afficher EN DESSOUS (Top > 100%) */
        .top-banner .icon-btn::after, 
        .top-banner .tab-icon-btn::after {
            top: 130%; /* Pousse l'infobulle vers le bas */
            bottom: auto;
        }

        /* SPECIFIQUE FOOTER : Afficher AU DESSUS (Bottom > 100%) */
        .main-footer .icon-btn::after {
            bottom: 130%; /* Pousse l'infobulle vers le haut */
            top: auto;
        }

        /* Logo Accueil */
        .logo-home-btn {
            padding: 0; overflow: hidden; border: 2px solid var(--cta); background: white;
        }
        .logo-home-btn img {
            width: 100%; height: 100%; object-fit: cover;
        }
        .logo-home-btn:hover {
            border-color: white; background: white;
        }

        /* Bouton Portfolio Premium Gold */
        .btn-portfolio-premium {
            padding: 0.5rem 1.5rem; border-radius: 9999px; font-family: 'Montserrat', sans-serif; font-weight: 600; font-size: 0.95rem;
            background: var(--cta-page-gradient); /* D√©grad√© Dor√© */
            color: white !important; text-decoration: none; border: 1px solid rgba(255,255,255,0.2);
            display: inline-flex; align-items: center; gap: 8px; transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(217, 165, 38, 0.3); /* Ombre dor√©e */
        }
        .btn-portfolio-premium:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(217, 165, 38, 0.5); }

        /* --- CONTENU --- */
        .page-header { text-align: center; margin-bottom: 2rem; }
        .page-title { font-family: 'Playfair Display', serif; font-weight: 800; color: var(--brand-blue); font-size: 2.5rem; transition: all 0.5s; }
        .page-subtitle { color: var(--cta-page); font-weight: 700; text-transform: uppercase; letter-spacing: 2px; font-size: 0.9rem; }

        /* --- CARTE DESIGN --- */
        .term-card {
            background: white; border-radius: 12px; border: 1px solid #e5e7eb;
            transition: all 0.3s ease; position: relative; overflow: hidden;
        }
        .term-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 24px -8px rgba(217, 165, 38, 0.15); /* Ombre Dor√©e */
            border-color: var(--cta-page);
        }
        .term-card::before {
            content: ''; position: absolute; top: 0; left: 0; width: 4px; height: 100%;
            background: var(--cta-page-gradient); /* D√©grad√© Dor√© */
            opacity: 0; transition: opacity 0.3s;
        }
        .term-card:hover::before { opacity: 1; }
        
        .copy-btn {
            position: absolute; top: 10px; right: 10px;
            color: #cbd5e1; cursor: pointer; transition: color 0.2s;
        }
        .copy-btn:hover { color: var(--cta-page); }

        /* --- GAME FLIP --- */
        .perspective { perspective: 1000px; }
        .card-inner {
            position: relative; width: 100%; height: 100%;
            text-align: center; transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-style: preserve-3d;
        }
        .card-front, .card-back {
            position: absolute; width: 100%; height: 100%;
            -webkit-backface-visibility: hidden; backface-visibility: hidden;
            border-radius: 1rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        /* Face avant Premium Gold */
        .card-front { background: #0F2C48; color: white; border: 4px solid var(--cta-page); } 
        .card-back { transform: rotateY(180deg); }
        .flipped .card-inner { transform: rotateY(180deg); }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--brand-blue); }

        /* --- FOOTER CSS --- */
        .main-footer {
            background-color: var(--brand-blue); color: var(--ivory);
            padding: 20px 0; font-family: 'Lato', sans-serif; font-size: 0.9rem;
            margin-top: auto; border-top: 4px solid var(--bronze);
        }
        .footer-container { max-width: 1400px; margin: 0 auto; padding: 0 25px; }
        .footer-row { display: flex; justify-content: space-between; align-items: center; gap: 20px; }
        .footer-left { display: flex; align-items: center; gap: 15px; }
        .footer-logo-img { width: 50px; height: 50px; border-radius: 8px; border: 2px solid var(--cta); background: #fff; object-fit: cover; }
        .footer-info { display: flex; flex-direction: column; justify-content: center; }
        .footer-name { color: var(--cta); font-family: 'Playfair Display', serif; font-size: 1.1rem; font-weight: 700; margin: 0; line-height: 1.2; }
        .footer-details { font-size: 0.8rem; opacity: 0.8; display: flex; gap: 15px; }
        .footer-right { display: flex; align-items: center; gap: 15px; }
        .brand-nav { color: var(--cta) !important; } .icon-btn:hover .brand-nav { color: var(--brand-blue) !important; }
        .brand-whatsapp { color: #25D366 !important; } .brand-discord { color: #5865F2 !important; } .brand-linkedin { color: #0077b5 !important; } .brand-instagram { color: #E1306C !important; } .brand-tiktok { color: #00f2ea !important; text-shadow: 2px 2px 0px #ff0050; }
        .dock-separator { width: 1px; height: 25px; background-color: rgba(255,255,255,0.2); }
        .footer-copyright { text-align: center; font-size: 0.75rem; color: rgba(255,255,255,0.3); margin-top: 15px; padding-top: 10px; border-top: 1px solid rgba(255,255,255,0.05); }
        
        @media (max-width: 900px) {
            .footer-row { flex-direction: column; text-align: center; gap: 20px; }
            .footer-left { flex-direction: column; }
            .footer-details { flex-direction: column; gap: 5px; }
            .footer-right { flex-wrap: wrap; justify-content: center; }
        }
    </style>
</head>
<body>

    <!-- HEADER PREMIUM -->
    <header class="top-banner">
        <div class="max-w-7xl mx-auto px-4 py-3">
            <div class="flex flex-col lg:flex-row items-center justify-between gap-4">
                
                <!-- Logo & Titre -->
                <div class="flex items-center gap-4 w-full lg:w-auto">
                    <div class="w-14 h-14 rounded-full border-2 border-[#D9A526] overflow-hidden bg-white shrink-0 shadow-lg">
                        <img src="https://projettechacademy.github.io/Juridique/Asset/Logo_MMPA.jpeg" 
                             alt="Logo MMPA" class="w-full h-full object-cover">
                    </div>
                    <div>
                        <h1 class="font-bold text-lg leading-tight tracking-wide">Mathilde Martine PAISLEY</h1>
                        <p class="text-xs text-[#D9A526] font-bold">üí´ The Jurist Elite Club By Studi ‚ú®</p>
                        <p class="text-[0.65rem] text-slate-300 font-light italic leading-tight">La Villa des Juristes Bris√©s üíî sur l‚Äô√éle de L‚ÄôINSTRUCTION !üèù</p>
                    </div>
                </div>

                <!-- Navigation Int√©gr√©e & Bouton Portfolio -->
                <div class="flex flex-wrap items-center justify-center gap-4 lg:gap-6 w-full lg:w-auto">
                    <nav class="flex flex-wrap items-center justify-center gap-4">
                        
                        <!-- Onglet 1: Lexique (Rond Dor√© Premium) -->
                        <button onclick="switchTab('lexique')" id="nav-lexique" class="tab-icon-btn active" data-tooltip="Lexique">
                            <i class="fa-solid fa-book-open"></i>
                        </button>
                        
                        <!-- Onglet 2: Jeu (Rond Dor√© Premium) -->
                        <button onclick="switchTab('game')" id="nav-game" class="tab-icon-btn" data-tooltip="Entra√Ænement">
                            <i class="fa-solid fa-gamepad"></i>
                        </button>

                        <div class="h-4 w-px bg-white/20 hidden lg:block"></div>

                        <!-- Liens Globaux (Ronds Dor√©s) -->
                        <a href="https://projettechacademy.github.io/Juridique/index.html" target="_blank" class="icon-btn logo-home-btn" data-tooltip="Accueil">
                            <img src="https://projettechacademy.github.io/Juridique/Asset/Logo_juriste.png" 
                                 alt="Accueil Juriste"
                                 onerror="this.src='https://projettechacademy.github.io/Juridique/Asset/Logo_juriste.jpg'">
                        </a>

                        <a href="https://projettechacademy.github.io/Juridique/00_Autres/Mon_Espace_Juriste_Tableau_de_bord_personnel.html" target="_blank" class="icon-btn" data-tooltip="Mon Espace"><span class="brand-nav">üìä</span></a>
                        <a href="https://projettechacademy.github.io/Juridique/00_Autres/formation_live_juriste.html" target="_blank" class="icon-btn" data-tooltip="Planning Live"><span class="brand-nav">üìÖ</span></a>
                        <a href="https://projettechacademy.github.io/Juridique/00_Autres/A_propos_de_moi.html" target="_blank" class="icon-btn" data-tooltip="√Ä propos de moi" style="padding: 0; overflow: hidden; border: 2px solid #D9A526;">
                            <img src="https://projettechacademy.github.io/Juridique/Asset/Photo_Mathilde_Martine_PAISLEY.png" onerror="this.src='https://projettechacademy.github.io/Juridique/Asset/Photo_Mathilde_Martine_PAISLEY.jpg';" alt="Profil" class="w-full h-full object-cover">
                        </a>
                    </nav>

                    <!-- BOUTON PORTFOLIO PREMIUM GOLD -->
                    <a href="https://projettechacademy.github.io/CV_MMPA-CV-Mathilde-Martine-PAISLEY/" target="_blank" class="btn-portfolio-premium">
                        <span>üìÑ</span> Mon portfolio
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- MAIN CONTENT -->
    <main class="flex-grow w-full max-w-7xl mx-auto p-6 md:p-10 relative">

        <!-- Header Dynamique de la Page -->
        <div class="page-header">
            <h1 class="page-title" id="dynamic-title">Lexique Latin Juridique</h1>
            <p class="page-subtitle">Les indispensables pour exceller</p>
        </div>

        <!-- VIEW 1: LEXIQUE -->
        <div id="view-lexique" class="transition-all duration-500 ease-in-out">
            
            <!-- Search -->
            <div class="bg-[#F6F2E8] rounded-2xl p-6 mb-8 shadow-sm border border-[#D9A526]/20 flex items-center gap-4">
                <i class="fa-solid fa-magnifying-glass text-[#D9A526] text-xl ml-2"></i>
                <input type="text" id="searchInput" placeholder="Rechercher une locution (ex: Ad hoc, A contrario...)" 
                       class="w-full bg-transparent border-none outline-none text-[#0F2C48] placeholder-slate-400 text-lg">
                <span class="text-xs font-bold bg-[#D9A526] text-white px-2 py-1 rounded ml-auto whitespace-nowrap"><span id="total-terms">0</span> termes</span>
            </div>

            <!-- Sticky Alphabet -->
            <div class="sticky top-[140px] lg:top-[90px] z-40 bg-[#FAFAFA]/95 backdrop-blur py-2 mb-8 -mx-4 px-4 overflow-x-auto">
                <div class="flex gap-2 min-w-max pb-2" id="alphabet-nav">
                    <!-- JS Injected Pills -->
                </div>
            </div>

            <!-- Grid -->
            <div id="lexicon-container" class="space-y-12">
                <!-- Sections injected by JS -->
            </div>
            
            <div id="noResults" class="hidden text-center py-20">
                <h3 class="text-xl font-bold text-[#0F2C48]">Aucun r√©sultat</h3>
            </div>
        </div>

        <!-- VIEW 2: GAME -->
        <div id="view-game" class="hidden transition-all duration-500 ease-in-out flex flex-col items-center justify-center py-10 min-h-[60vh]">
            
            <!-- Score -->
            <div class="flex gap-4 mb-8 text-sm font-bold">
                <span class="text-emerald-600 bg-emerald-50 px-3 py-1 rounded-full border border-emerald-200">
                    <i class="fa-solid fa-check mr-1"></i> <span id="score-success">0</span>
                </span>
                <span class="text-rose-600 bg-rose-50 px-3 py-1 rounded-full border border-rose-200">
                    <i class="fa-solid fa-xmark mr-1"></i> <span id="score-fail">0</span>
                </span>
            </div>

            <div class="perspective w-full max-w-lg h-[420px] cursor-pointer group" onclick="flipCard()">
                <div class="card-inner w-full h-full" id="game-card-inner">
                    <!-- Front -->
                    <div class="card-front p-8 flex flex-col justify-between">
                        <div class="w-full flex justify-between items-start opacity-50"><i class="fa-solid fa-quote-left text-2xl"></i><i class="fa-solid fa-question text-2xl"></i></div>
                        <div>
                            <h3 id="card-term" class="text-4xl font-bold serif-font mb-4">...</h3>
                            <div class="w-16 h-1 bg-[#D9A526] mx-auto rounded-full" style="background: var(--cta-page-gradient);"></div>
                        </div>
                        <p class="text-sm text-[#D9A526] animate-bounce uppercase tracking-widest font-bold">Cliquez pour r√©v√©ler</p>
                    </div>
                    <!-- Back -->
                    <div class="card-back bg-white p-8 flex flex-col text-left border border-slate-200">
                        <div class="flex justify-between items-start mb-4 pb-4 border-b border-slate-100">
                            <div>
                                <h3 id="card-term-back" class="text-xl font-bold text-[#0F2C48] serif-font">...</h3>
                                <p id="card-trans" class="text-[#D9A526] italic font-medium">...</p>
                            </div>
                            <div class="bg-[#F6F2E8] p-2 rounded-full text-[#0F2C48]"><i class="fa-solid fa-lightbulb"></i></div>
                        </div>
                        <div class="flex-grow overflow-y-auto pr-2 custom-scroll space-y-4">
                            <div><p class="text-xs font-bold text-slate-400 uppercase mb-1">D√©finition</p><p id="card-def" class="text-slate-700 text-sm leading-relaxed">...</p></div>
                            <div class="bg-[#F6F2E8] p-4 rounded-lg border-l-4 border-[#D9A526]"><p class="text-xs font-bold text-[#0F2C48] uppercase mb-1">Exemple</p><p id="card-ex" class="text-slate-600 text-sm italic">...</p></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-10 flex gap-4">
                <button onclick="updateScore(false); nextCard()" class="px-6 py-2 rounded-full border-2 border-rose-200 text-rose-600 hover:bg-rose-50 font-bold transition-colors"><i class="fa-solid fa-xmark"></i> Oubli√©</button>
                <button onclick="nextCard()" class="px-6 py-2 rounded-full bg-[#0F2C48] text-white hover:bg-[#1a3b5c] font-bold transition-colors">Passer <i class="fa-solid fa-arrow-right ml-1"></i></button>
                <button onclick="updateScore(true); nextCard()" class="px-6 py-2 rounded-full border-2 border-emerald-200 text-emerald-600 hover:bg-emerald-50 font-bold transition-colors"><i class="fa-solid fa-check"></i> Su</button>
            </div>
        </div>

    </main>

    <!-- FOOTER COMPACT -->
    <footer class="main-footer">
        <div class="footer-container">
            <div class="footer-row">
                <!-- GAUCHE : IDENTIT√â -->
                <div class="footer-left">
                    <img src="https://projettechacademy.github.io/Juridique/Asset/Logo_MMPA.jpeg" alt="Logo" class="footer-logo-img">
                    <div class="footer-info">
                        <h3 class="footer-name">Mathilde Martine PAISLEY</h3>
                        <div class="footer-details">
                            <span>üìß Mathilde.martine.paisley@gmail.com</span>
                            <span>üì≤ 06 85 90 08 87</span>
                        </div>
                    </div>
                </div>

                <!-- DROITE : NAVIGATION & R√âSEAUX -->
                <div class="footer-right">
                    <a href="https://projettechacademy.github.io/Juridique/index.html" target="_blank" class="icon-btn logo-home-btn" data-tooltip="Accueil">
                        <img src="https://projettechacademy.github.io/Juridique/Asset/Logo_juriste.png" alt="Accueil" onerror="this.src='https://projettechacademy.github.io/Juridique/Asset/Logo_juriste.jpg'">
                    </a>
                    <a href="https://projettechacademy.github.io/Juridique/00_Autres/Mon_Espace_Juriste_Tableau_de_bord_personnel.html" target="_blank" class="icon-btn" data-tooltip="Mon Espace"><span class="brand-nav">üìä</span></a>
                    <a href="https://projettechacademy.github.io/Juridique/00_Autres/Lexique_Latin_Juridique.html" target="_blank" class="icon-btn" data-tooltip="Lexique"><span class="brand-nav">üìú</span></a>
                    <a href="https://projettechacademy.github.io/Juridique/00_Autres/formation_live_juriste.html" target="_blank" class="icon-btn" data-tooltip="Planning"><span class="brand-nav">üìÖ</span></a>
                    <a href="https://projettechacademy.github.io/Juridique/00_Autres/A_propos_de_moi.html" target="_blank" class="icon-btn" data-tooltip="Bio"><span class="brand-nav">üë§</span></a>
                    
                    <div class="dock-separator"></div>

                    <a href="https://chat.whatsapp.com/IoMXFl4o2otExYKCPVj22b" target="_blank" class="icon-btn" data-tooltip="WhatsApp"><i class="fab fa-whatsapp brand-whatsapp"></i></a>
                    <a href="https://discord.gg/qwNPV8QzFt" target="_blank" class="icon-btn" data-tooltip="Discord"><i class="fab fa-discord brand-discord"></i></a>
                    <a href="https://www.linkedin.com/in/mathilde-martine-paisley-1a4422382/" target="_blank" class="icon-btn" data-tooltip="LinkedIn"><i class="fab fa-linkedin brand-linkedin"></i></a>
                    <a href="https://www.instagram.com/enervyx/" target="_blank" class="icon-btn" data-tooltip="Instagram"><i class="fab fa-instagram brand-instagram"></i></a>
                    <a href="https://www.tiktok.com/@enervyx/" target="_blank" class="icon-btn" data-tooltip="TikTok"><i class="fab fa-tiktok brand-tiktok"></i></a>
                </div>
            </div>
            <div class="footer-copyright">
                <p>üí´ The Jurist Elite Club By Studi ‚ú® La Villa des Juristes Bris√©s üíî sur l‚Äô√éle de L‚ÄôINSTRUCTION !üèù | By Mathilde Martine PAISLEY | ¬© 2025 Tous droits r√©serv√©s</p>
            </div>
        </div>
    </footer>

    <!-- Back to Top (Dor√©) -->
    <button onclick="scrollToTop()" id="backToTop" class="fixed bottom-8 right-8 w-12 h-12 bg-[#D9A526] text-[#0F2C48] rounded-full shadow-xl flex items-center justify-center hover:bg-white hover:scale-110 transition-all z-50 opacity-0 pointer-events-none duration-300 border-2 border-[#0F2C48]">
        <i class="fa-solid fa-arrow-up font-bold"></i>
    </button>

    <script>
        // DATA
        const lexiconData = [
            { term: "A contrario", trans: "Par le contraire", def: "Argumentation d√©duisant d'une situation non pr√©vue l'application de la r√®gle inverse.", ex: "La loi pr√©voit X pour les CDI. A contrario, pour les CDD, c'est la r√®gle Y qui s'applique." },
            { term: "A fortiori", trans: "√Ä plus forte raison", def: "Argumentation qui √©tend une r√®gle √† un cas non pr√©vu, car les raisons sont encore plus √©videntes.", ex: "Si la faute simple justifie une sanction, a fortiori la faute grave justifie un licenciement." },
            { term: "Ab absurdo", trans: "Par l'absurde", def: "D√©montrer la fausset√© d'une proposition en montrant que sa cons√©quence est absurde.", ex: "Le raisonnement aboutirait √† ce que l'employeur paie le salari√© qui n'a jamais travaill√© : absurde." },
            { term: "Ab initio", trans: "D√®s le commencement", def: "Se dit d'un acte qui prend effet depuis son origine.", ex: "Si une condition essentielle manque, le contrat est nul ab initio." },
            { term: "Ab irato", trans: "Sous le coup de la col√®re", def: "Qualification d'un acte accompli sous l'emportement.", ex: "Une sanction prononc√©e ab irato risque d'√™tre annul√©e." },
            { term: "Abusus non tollit usum", trans: "L'abus n'emp√™che pas l'usage", def: "Le fait qu'un droit soit abus√© ne signifie pas qu'il n'existe pas.", ex: "L'abus des p√©riodes d'essai par certains ne supprime pas le droit d'en ins√©rer une." },
            { term: "Accessorium sequitur principale", trans: "L'accessoire suit le principal", def: "Le sort de l'accessoire est li√© √† celui de l'√©l√©ment principal.", ex: "L'annulation du contrat (principal) entra√Æne l'annulation de la clause de non-concurrence." },
            { term: "Actio personalis moritur cum persona", trans: "L'action meurt avec la personne", def: "L'action en justice s'√©teint avec le d√©c√®s.", ex: "Le d√©c√®s du salari√© met fin au contrat et aux actions personnelles." },
            { term: "Actori incumbit probatio", trans: "La preuve incombe au demandeur", def: "C'est √† celui qui all√®gue un fait de le prouver.", ex: "Le salari√© qui r√©clame des heures suppl√©mentaires doit les prouver." },
            { term: "Actor sequitur forum rei", trans: "Le demandeur suit le tribunal du d√©fendeur", def: "Le litige est port√© devant le tribunal du d√©fendeur.", ex: "Principe de comp√©tence territoriale." },
            { term: "Actus reus / Mens rea", trans: "Acte coupable / Esprit coupable", def: "√âl√©ments constitutifs de l'infraction (mat√©riel et moral).", ex: "Pour le vol : prendre (actus) avec l'intention de voler (mens)." },
            { term: "Ad cautelam", trans: "Par pr√©caution", def: "Par mesure de prudence.", ex: "Courrier de contestation envoy√© ad cautelam." },
            { term: "Ad hoc", trans: "√Ä cet effet pr√©cis", def: "Sp√©cialement d√©sign√© pour une fonction.", ex: "Administrateur ad hoc pour une succession d√©licate." },
            { term: "Ad impossibilia nemo tenetur", trans: "√Ä l'impossible nul n'est tenu", def: "On ne peut √™tre contraint √† une obligation impossible.", ex: "Cas de force majeure rendant le travail impossible." },
            { term: "Ad litem", trans: "Pour le proc√®s", def: "Relatif √† l'instance en cours.", ex: "Mandataire ad litem d√©sign√© pour la proc√©dure." },
            { term: "Ad nutum", trans: "Au gr√© de", def: "R√©voqu√© sans motif exig√©.", ex: "R√©vocation ad nutum du pr√©sident de SAS." },
            { term: "Ad probationem", trans: "√Ä titre de preuve", def: "Condition de forme pour prouver l'acte.", ex: "L'√©crit est souvent requis ad probationem." },
            { term: "Ad validitatem", trans: "√Ä titre de validit√©", def: "Condition de forme pour la validit√© de l'acte.", ex: "Certains contrats solennels exigent un √©crit ad validitatem." },
            { term: "Affectio societatis", trans: "Volont√© de s'associer", def: "Volont√© de collaborer √† l'≈ìuvre commune.", ex: "√âl√©ment essentiel du contrat de soci√©t√©." },
            { term: "Aliud est celare, aliud tacere", trans: "Cacher est une chose, se taire une autre", def: "Distinction entre r√©ticence dolosive et simple silence.", ex: "Dissimulation active vs omission." },
            { term: "Amicus curi√¶", trans: "Ami de la Cour", def: "Tiers pr√©sentant un avis √©clair√© au tribunal.", ex: "Une association d√©pose un m√©moire amicus curi√¶." },
            { term: "Argumentum a silentio", trans: "Argument du silence", def: "Conclure du silence d'un texte.", ex: "La loi ne l'interdit pas, donc c'est permis." },
            { term: "Audi alteram partem", trans: "Que l'autre partie soit entendue", def: "Principe du contradictoire.", ex: "Entretien pr√©alable au licenciement." },
            { term: "Bona fide", trans: "De bonne foi", def: "Honn√™tet√©, loyaut√©.", ex: "Ex√©cution du contrat de bonne foi." },
            { term: "Bonus dolus", trans: "Le bon dol", def: "Petite exag√©ration tol√©r√©e.", ex: "Embellir l√©g√®rement un CV (sans fausse d√©claration)." },
            { term: "Casus belli", trans: "Cas de guerre", def: "Fait justifiant une hostilit√© majeure.", ex: "Faute lourde justifiant rupture imm√©diate." },
            { term: "Caveat emptor", trans: "Que l'acheteur soit vigilant", def: "L'acheteur doit s'informer.", ex: "Vigilance dans les relations commerciales." },
            { term: "Cogito ergo sum", trans: "Je pense donc je suis", def: "Principe philosophique d'existence.", ex: "Capacit√© juridique de la personne physique." },
            { term: "Contra legem", trans: "Contre la loi", def: "Acte violant la r√®gle l√©gale.", ex: "Clause inf√©rieure au SMIC." },
            { term: "Corpus delicti", trans: "Corps du d√©lit", def: "√âl√©ment mat√©riel de l'infraction.", ex: "L'objet vol√©." },
            { term: "Cui bono ?", trans: "√Ä qui profite le crime ?", def: "Recherche du mobile.", ex: "Enqu√™te interne." },
            { term: "Culpa lata", trans: "Faute lourde", def: "Faute d'une extr√™me gravit√©.", ex: "Intention de nuire." },
            { term: "Culpa levis", trans: "Faute l√©g√®re", def: "Simple n√©gligence.", ex: "Erreur involontaire." },
            { term: "Curia novit iura", trans: "La Cour conna√Æt le droit", def: "Le juge applique la r√®gle de droit ad√©quate.", ex: "Requalification juridique par le juge." },
            { term: "Damnum emergens", trans: "Dommage √©mergent", def: "Perte subie imm√©diatement.", ex: "Perte de salaire." },
            { term: "De facto", trans: "De fait", def: "Situation r√©elle.", ex: "G√©rant de fait." },
            { term: "De jure", trans: "De droit", def: "Situation l√©gale.", ex: "G√©rant de droit." },
            { term: "Dura lex, sed lex", trans: "La loi est dure, mais c'est la loi", def: "Application stricte de la loi.", ex: "Rigueur des d√©lais de prescription." },
            { term: "Erga omnes", trans: "√Ä l'√©gard de tous", def: "Opposable √† tout le monde.", ex: "Publication au greffe." },
            { term: "Exceptio non adimpleti contractus", trans: "Exception d'inex√©cution", def: "Suspension si l'autre ne paie pas/n'ex√©cute pas.", ex: "Droit de retrait." },
            { term: "Ex nunc", trans: "Pour l'avenir", def: "Pas d'effet r√©troactif.", ex: "R√©siliation." },
            { term: "Ex tunc", trans: "Depuis l'origine", def: "Effet r√©troactif.", ex: "Nullit√© du contrat." },
            { term: "In abstracto", trans: "Dans l'abstrait", def: "Par rapport √† un standard moyen.", ex: "Le bon p√®re de famille." },
            { term: "In concreto", trans: "Dans le concret", def: "Selon les circonstances r√©elles.", ex: "Appr√©ciation de la faute." },
            { term: "In limine litis", trans: "Au seuil du proc√®s", def: "Avant tout d√©bat au fond.", ex: "Exception de proc√©dure." },
            { term: "In solidum", trans: "Solidairement", def: "Tenus ensemble de la dette.", ex: "Condamnation solidaire." },
            { term: "Intuitu person√¶", trans: "En consid√©ration de la personne", def: "La personne est d√©terminante.", ex: "Contrat de travail." },
            { term: "Ipso facto", trans: "Par le fait m√™me", def: "Automatiquement.", ex: "Fin du CDD √† l'√©ch√©ance." },
            { term: "Lucrum cessans", trans: "Gain manqu√©", def: "Manque √† gagner.", ex: "Perte de commissions futures." },
            { term: "Mala fides", trans: "Mauvaise foi", def: "Intention malhonn√™te.", ex: "Sabotage." },
            { term: "Mutatis mutandis", trans: "En changeant ce qui doit l'√™tre", def: "Adaptation √† un contexte diff√©rent.", ex: "Application par analogie." },
            { term: "Mutuus dissensus", trans: "Consentement mutuel √† rompre", def: "Accord pour rompre.", ex: "Rupture conventionnelle." },
            { term: "Ne bis in idem", trans: "Pas deux fois pour la m√™me chose", def: "Interdiction de double sanction.", ex: "Avertissement puis licenciement pour les m√™mes faits : interdit." },
            { term: "Nemo auditur...", trans: "Nul ne peut se pr√©valoir de sa turpitude", def: "On ne r√©clame pas justice d'une situation ill√©gale qu'on a cr√©√©e.", ex: "Fraudeur r√©clamant des indemnit√©s." },
            { term: "Nemo censetur ignorare legem", trans: "Nul n'est cens√© ignorer la loi", def: "L'ignorance n'est pas une excuse.", ex: "L'employeur doit conna√Ætre le Code du travail." },
            { term: "Nullum crimen sine lege", trans: "Pas de crime sans loi", def: "L√©galit√© des d√©lits et peines.", ex: "Sanction pr√©vue au r√®glement int√©rieur." },
            { term: "Pacta sunt servanda", trans: "Les contrats doivent √™tre respect√©s", def: "Force obligatoire du contrat.", ex: "Le contrat est la loi des parties." },
            { term: "Prima facie", trans: "√Ä premi√®re vue", def: "Apparence de v√©rit√©.", ex: "Preuve apparente." },
            { term: "Pro rata temporis", trans: "Proportionnel au temps", def: "Calcul selon la dur√©e.", ex: "Calcul des cong√©s pay√©s." },
            { term: "Quantum", trans: "Montant", def: "La somme due.", ex: "Quantum des dommages-int√©r√™ts." },
            { term: "Quid pro quo", trans: "Donnant donnant", def: "Contrepartie.", ex: "Salaire contre travail." },
            { term: "Ratio decidendi", trans: "Raison de la d√©cision", def: "Motif juridique d√©terminant.", ex: "Fondement de la jurisprudence." },
            { term: "Res judicata", trans: "Chose jug√©e", def: "D√©finitif.", ex: "Autorit√© de la chose jug√©e." },
            { term: "Statu quo", trans: "√âtat actuel", def: "Maintien de la situation.", ex: "Geler les positions." },
            { term: "Sub judice", trans: "En cours de jugement", def: "Affaire non tranch√©e.", ex: "Devant le tribunal." },
            { term: "Sui generis", trans: "De son propre genre", def: "Sp√©cifique, unique.", ex: "Contrat atypique." },
            { term: "Ultra petita", trans: "Au-del√† de la demande", def: "Statuer sur ce qui n'est pas demand√©.", ex: "Interdiction pour le juge." },
            { term: "Vacatio legis", trans: "Vacance de la loi", def: "D√©lai avant application.", ex: "Entr√©e en vigueur diff√©r√©e." },
            { term: "Veni, vidi, vici", trans: "Je suis venu, j'ai vu, j'ai vaincu", def: "Adage de succ√®s rapide.", ex: "Victoire judiciaire √©clatante." },
            { term: "Utilitas publica", trans: "Utilit√© publique", def: "L'int√©r√™t g√©n√©ral prime sur les int√©r√™ts priv√©s.", ex: "Expropriation pour cause d'utilit√© publique." },
            { term: "Ubi societas ibi jus", trans: "L√† o√π il y a soci√©t√©, il y a droit", def: "Toute vie sociale implique des r√®gles.", ex: "Le droit na√Æt des interactions humaines." },
            { term: "Testis unus, testis nullus", trans: "T√©moin unique, t√©moin nul", def: "La parole d'un seul ne suffit pas toujours √† prouver.", ex: "Besoin de corroboration des faits." },
            { term: "Terra nullius", trans: "Terre n'appartenant √† personne", def: "Territoire sans ma√Ætre (droit international).", ex: "Zone non revendiqu√©e par un √âtat." }
        ];

        lexiconData.sort((a, b) => a.term.localeCompare(b.term));

        // UTILS
        const $ = (id) => document.getElementById(id);
        
        let totalTermsEl, container, alphabetNav, searchInput, noResults, backToTopBtn;
        let scoreSuccess = 0;
        let scoreFail = 0;
        let currentCardIndex = -1;

        // --- LEXICON RENDER (NOUVEAU) ---
        function initLexicon() {
            totalTermsEl = $('total-terms');
            container = $('lexicon-container');
            alphabetNav = $('alphabet-nav');
            searchInput = $('searchInput');
            noResults = $('noResults');
            backToTopBtn = $('backToTop');

            totalTermsEl.textContent = lexiconData.length;

            const grouped = {};
            lexiconData.forEach(item => {
                const letter = item.term.charAt(0).toUpperCase();
                if (!grouped[letter]) grouped[letter] = [];
                grouped[letter].push(item);
            });

            const letters = Object.keys(grouped).sort();
            
            // 1. Pills Nav
            alphabetNav.innerHTML = '';
            letters.forEach(letter => {
                const btn = document.createElement('button');
                // Changed hover text and border colors from #D926A9 to #D9A526
                btn.className = 'w-10 h-10 rounded-full bg-white border border-slate-200 text-[#0F2C48] font-bold hover:bg-[#0F2C48] hover:text-[#D9A526] hover:border-[#D9A526] transition-all shadow-sm';
                btn.textContent = letter;
                btn.onclick = () => scrollToLetter(letter);
                alphabetNav.appendChild(btn);
            });

            // 2. Sections Layout
            container.innerHTML = '';
            letters.forEach(letter => {
                const section = document.createElement('div');
                section.id = `section-${letter}`;
                section.className = 'lexicon-section scroll-mt-32'; 

                const wrapper = document.createElement('div');
                wrapper.className = 'flex flex-col md:flex-row gap-6';

                // Large Letter Column
                const letterCol = document.createElement('div');
                letterCol.className = 'md:w-16 flex-shrink-0';
                // Changed text color and border color from #D926A9 to #D9A526
                letterCol.innerHTML = `
                    <div class="sticky top-40 bg-[#F6F2E8] text-[#D9A526] w-14 h-14 rounded-xl flex items-center justify-center text-3xl font-bold serif-font border-2 border-[#D9A526]/20">
                        ${letter}
                    </div>
                `;

                // Cards Grid
                const gridCol = document.createElement('div');
                gridCol.className = 'flex-grow grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5';

                grouped[letter].forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'term-card p-6 flex flex-col h-full search-item';
                    // Changed text colors and border color from #D926A9 to #D9A526
                    card.innerHTML = `
                        <i class="fa-regular fa-copy copy-btn" onclick="copyToClipboard('${item.term} : ${item.def}')" title="Copier"></i>
                        <h3 class="font-bold text-[#0F2C48] text-xl mb-1 serif-font tracking-wide pr-6">${item.term}</h3>
                        <p class="text-[#D9A526] text-sm italic mb-4 font-medium">"${item.trans}"</p>
                        
                        <p class="text-slate-600 text-sm mb-4 flex-grow leading-relaxed">${item.def}</p>
                        
                        <div class="mt-auto bg-slate-50 p-3 rounded-lg border-l-2 border-[#D9A526]">
                            <span class="text-[10px] font-bold text-[#0F2C48] uppercase tracking-wider block mb-1">Exemple</span>
                            <p class="text-slate-500 text-xs italic">"${item.ex}"</p>
                        </div>
                    `;
                    gridCol.appendChild(card);
                });

                wrapper.appendChild(letterCol);
                wrapper.appendChild(gridCol);
                section.appendChild(wrapper);
                
                const separator = document.createElement('div');
                separator.className = 'h-px bg-slate-200 my-10 section-separator';
                section.appendChild(separator);

                container.appendChild(section);
            });
        }

        function copyToClipboard(text) {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
        }

        function scrollToLetter(letter) {
            const el = $(`section-${letter}`);
            const offset = 180;
            const bodyRect = document.body.getBoundingClientRect().top;
            const elementRect = el.getBoundingClientRect().top;
            const elementPosition = elementRect - bodyRect;
            const offsetPosition = elementPosition - offset;

            window.scrollTo({
                top: offsetPosition,
                behavior: 'smooth'
            });
        }

        // --- SEARCH LOGIC ---
        function filterLexicon(query) {
            const sections = document.querySelectorAll('.lexicon-section');
            let globalMatch = false;

            sections.forEach(section => {
                const items = section.querySelectorAll('.search-item');
                let sectionMatch = false;

                items.forEach(item => {
                    if (item.textContent.toLowerCase().includes(query)) {
                        item.style.display = 'flex';
                        sectionMatch = true;
                        globalMatch = true;
                    } else {
                        item.style.display = 'none';
                    }
                });

                // Toggle Section Visibility
                if (query === '' || sectionMatch) {
                    section.style.display = 'block';
                } else {
                    section.style.display = 'none';
                }
            });

            const noRes = $('noResults');
            if (!globalMatch && query !== '') {
                noRes.classList.remove('hidden');
            } else {
                noRes.classList.add('hidden');
            }
        }

        // --- GAME LOGIC ---
        function pickRandomCard() {
            const cardInner = $('game-card-inner');
            const wasFlipped = cardInner.parentElement.classList.contains('flipped');
            if (wasFlipped) {
                cardInner.parentElement.classList.remove('flipped');
                setTimeout(() => setNewCardContent(), 300);
            } else {
                setNewCardContent();
            }
        }

        function setNewCardContent() {
            let newIndex;
            do {
                newIndex = Math.floor(Math.random() * lexiconData.length);
            } while (newIndex === currentCardIndex);
            
            currentCardIndex = newIndex;
            const item = lexiconData[currentCardIndex];

            $('card-term').textContent = item.term;
            $('card-term-back').textContent = item.term;
            $('card-trans').textContent = `"${item.trans}"`;
            $('card-def').textContent = item.def;
            $('card-ex').textContent = item.ex;
        }

        function flipCard() {
            const card = $('game-card-inner').parentElement;
            card.classList.toggle('flipped');
        }

        function nextCard() {
            pickRandomCard();
        }

        function updateScore(success) {
            if(success) {
                scoreSuccess++;
                $('score-success').textContent = scoreSuccess;
            } else {
                scoreFail++;
                $('score-fail').textContent = scoreFail;
            }
        }

        // --- TABS & SCROLL ---
        function switchTab(tabId) {
            document.querySelectorAll('.tab-icon-btn').forEach(el => el.classList.remove('active'));
            const btn = $(`nav-${tabId}`);
            if(btn) btn.classList.add('active');

            if (tabId === 'lexique') {
                $('view-lexique').classList.remove('hidden');
                $('view-game').classList.add('hidden');
                $('dynamic-title').textContent = "Lexique Latin Juridique";
            } else {
                $('view-lexique').classList.add('hidden');
                $('view-game').classList.remove('hidden');
                $('dynamic-title').textContent = "Mode Entra√Ænement";
                pickRandomCard();
            }
        }

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function init() {
            initLexicon();

            searchInput.addEventListener('input', (e) => {
                filterLexicon(e.target.value.toLowerCase());
            });

            window.onscroll = function() {
                if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
                    backToTopBtn.classList.remove('opacity-0', 'pointer-events-none');
                    backToTopBtn.classList.add('opacity-100', 'pointer-events-auto');
                } else {
                    backToTopBtn.classList.add('opacity-0', 'pointer-events-none');
                    backToTopBtn.classList.remove('opacity-100', 'pointer-events-auto');
                }
            };
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }
    </script>
</body>
</html>