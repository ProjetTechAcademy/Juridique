<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Jurist Elite Club - Dashboard V16</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">

    <style>
        :root {
            --cta: #D9A526;       /* Jaune Dor√© */
            --brand-blue: #0F2C48; /* Bleu Nuit */
            --ivory: #F6F2E8;     /* Ivoire - Fond principal */
            --bronze: #B4792A;    /* Bronze */
            --alert: #B4792A;
        }

        body { 
            margin: 0; 
            background-color: #F6F2E8; /* FOND IVOIRE (CREME) */
            color: #0F2C48; /* TEXTE BLEU */
            font-family: 'Outfit', sans-serif; 
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        h1, h2, h3, .brand-font {
            font-family: 'Playfair Display', serif;
        }

        /* --- HEADER --- */
        .top-banner {
            position: sticky; top: 0; left: 0; right: 0; z-index: 10000;
            background-color: #0F2C48; /* BLEU FORC√â */
            color: white;
            box-shadow: 0 4px 20px rgba(15,44,72,0.25);
            padding: 10px 0; border-bottom: 4px solid #D9A526;
        }
        
        .tb-title { 
            font-family: 'Playfair Display', serif; 
            font-weight: 700; 
            font-size: 20px; 
            color: white; 
            line-height: 1.2; 
        }
        .tb-title .part2 { 
            color: #D9A526; 
            font-style: italic; 
            font-weight: 400; 
            font-size: 14px; 
            font-family: 'Outfit', sans-serif; 
            display: block; 
            margin-top: 2px;
        }

        /* Navigation Buttons (Header) */
        .nav-icon-btn {
            width: 40px; height: 40px;
            display: flex; align-items: center; justify-content: center;
            border-radius: 12px;
            background-color: rgba(255,255,255,0.1);
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.2s ease;
            text-decoration: none;
            position: relative;
        }
        .nav-icon-btn:hover {
            background-color: #D9A526;
            color: #0F2C48;
            border-color: #D9A526;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(217, 165, 38, 0.4);
        }
        .nav-icon-btn i { font-size: 18px; }
        
        /* Tooltip */
        .nav-icon-btn:hover::after {
            content: attr(title);
            position: absolute;
            bottom: -35px; left: 50%; transform: translateX(-50%);
            background: #0F2C48; color: white;
            padding: 4px 8px; border-radius: 4px; font-size: 10px;
            white-space: nowrap; pointer-events: none; z-index: 100;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        /* --- CARDS & INPUTS --- */
        .dashboard-card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(217, 165, 38, 0.2);
            transition: transform 0.3s ease;
            height: 100%;
            display: flex; flex-direction: column;
        }
        .dashboard-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .card-header {
            display: flex; align-items: center; gap: 10px;
            margin-bottom: 20px; padding-bottom: 12px;
            border-bottom: 1px solid #f1f5f9;
        }
        .card-icon {
            width: 36px; height: 36px;
            border-radius: 8px;
            background-color: rgba(15, 44, 72, 0.1);
            color: #0F2C48;
            display: flex; align-items: center; justify-content: center;
        }

        .input-label {
            display: block; font-size: 11px; font-weight: 700; 
            text-transform: uppercase; letter-spacing: 0.05em; 
            color: #0F2C48; margin-bottom: 4px; opacity: 0.8;
        }
        
        .styled-input, .styled-select {
            width: 100%; padding: 10px 12px;
            border-radius: 8px; border: 1px solid #cbd5e1;
            background-color: #f8fafc; color: #0F2C48;
            font-size: 14px; transition: all 0.2s;
        }
        .styled-input:focus, .styled-select:focus {
            outline: none; border-color: #D9A526;
            background-color: white; box-shadow: 0 0 0 3px rgba(217, 165, 38, 0.1);
        }

        /* --- PROGRAMME BLOCKS --- */
        .prog-block {
            background: white; border-radius: 12px; padding: 20px;
            border-left: 4px solid #cbd5e1;
            box-shadow: 0 2px 4px rgba(0,0,0,0.02);
            transition: all 0.3s;
        }
        .prog-block:hover { transform: translateX(4px); box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        .prog-block.b-intro { border-color: #94a3b8; }
        .prog-block.b-strat { border-color: #D9A526; }
        .prog-block.b-ops { border-color: #D9A526; }
        .prog-block.b-litige { border-color: #B4792A; }

        /* Timer Urgent */
        @keyframes pulse-red {
            0% { box-shadow: 0 0 0 0 rgba(180, 121, 42, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(180, 121, 42, 0); }
            100% { box-shadow: 0 0 0 0 rgba(180, 121, 42, 0); }
        }
        .timer-active { border-color: #B4792A !important; animation: pulse-red 2s infinite; }

        /* --- FOOTER SPECIFIC (CORRECTION) --- */
        .site-footer {
            background-color: #0F2C48 !important; /* BLEU IMP√âRATIF */
            color: white !important;
            padding: 32px 0;
            margin-top: auto;
            border-top: 4px solid #D9A526; /* JAUNE */
        }
        .footer-text {
            color: rgba(255, 255, 255, 0.8);
            font-style: italic;
            font-weight: 300;
            font-size: 14px;
        }
        .footer-sub {
            color: #D9A526;
            font-weight: 700;
            font-style: normal;
            font-size: 12px;
            display: block;
            margin-top: 4px;
        }
        .footer-copy {
            color: rgba(255, 255, 255, 0.5);
            font-size: 10px;
            margin-top: 16px;
        }
    </style>
</head>
<body onload="loadUserData()">

    <!-- HEADER -->
    <header class="top-banner">
        <div class="container mx-auto px-4 flex flex-wrap items-center justify-between gap-4">
            
            <!-- Logo & Titre -->
            <div class="flex items-center gap-4 flex-1 min-w-[300px]">
                <div class="w-12 h-12 rounded-full bg-white border-2 border-cta overflow-hidden flex-shrink-0 shadow-lg">
                    <img src="https://projettechacademy.github.io/Juridique/Asset/Logo_juriste.png" 
                         alt="Logo" 
                         class="w-full h-full object-contain"
                         onerror="this.src='https://projettechacademy.github.io/Juridique/Asset/Logo_juriste.jpg'">
                </div>
                <div class="tb-title">
                    <span class="text-white">üí´ The Jurist Elite Club</span> 
                    <span class="text-cta font-light">By Studi ‚ú®</span>
                    <span class="part2">La Villa des Juristes Bris√©s üíî sur l‚Äô√éle de L‚ÄôINSTRUCTION ! üèù</span>
                </div>
            </div>

            <!-- Boutons Acc√®s Rapide -->
            <div class="flex items-center gap-2">
                <a href="index.html" class="nav-icon-btn" title="Accueil">
                    <i class="fa-solid fa-house"></i>
                </a>
                <div class="w-[1px] h-6 bg-white/20 mx-1"></div>
                
                <!-- BOUTON START -->
                <a href="https://projettechacademy.github.io/Juridique/index.html" class="nav-icon-btn" title="Start">
                    <i class="fa-solid fa-flag-checkered text-cta"></i>
                </a>
                
                <a href="https://projettechacademy.github.io/Juridique/00_Autres/Lexique_Latin_Juridique.html" target="_blank" class="nav-icon-btn" title="Lexique Juridique">
                    <i class="fa-solid fa-book text-cta"></i>
                </a>
                <a href="https://projettechacademy.github.io/Juridique/00_Autres/formation_live_juriste.html" target="_blank" class="nav-icon-btn" title="Planning Live">
                    <i class="fa-solid fa-video text-cta"></i>
                </a>
                <a href="https://projettechacademy.github.io/Juridique/00_Autres/Mon_Espace_Juriste_Tableau_de_bord_personnel.html" target="_blank" class="nav-icon-btn" title="Mon Espace">
                    <i class="fa-solid fa-user-tie text-cta"></i>
                </a>
            </div>
        </div>
    </header>

    <!-- MAIN CONTENT -->
    <main class="flex-grow container mx-auto px-4 py-8 space-y-10">

        <!-- Welcome Title -->
        <div class="text-center">
            <h2 class="text-3xl font-bold brand-font text-brand-blue mb-2">
                Bienvenue, Ma√Ætre <span id="displayFullName" class="text-cta">Juriste</span> ! üë©‚Äç‚öñÔ∏è
            </h2>
            <p id="welcomeTagline" class="text-gray-500 italic text-lg"></p>
        </div>

        <!-- DASHBOARD GRID -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            
            <!-- 1. MON PROFIL (Config) -->
            <div class="dashboard-card border-t-4 border-t-brand-blue">
                <div class="card-header">
                    <div class="card-icon"><i class="fa-solid fa-id-card"></i></div>
                    <h3 class="font-bold text-lg text-brand-blue">Mon Profil</h3>
                </div>
                <div class="space-y-4 flex-grow">
                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label class="input-label">Pr√©nom</label>
                            <input type="text" id="userName" placeholder="Votre Pr√©nom" class="styled-input" onchange="saveUserData()">
                        </div>
                        <div>
                            <label class="input-label">Nom</label>
                            <input type="text" id="userSurname" placeholder="Votre Nom" class="styled-input" onchange="saveUserData()">
                        </div>
                    </div>
                    
                    <div>
                        <label class="input-label text-cta">üéì Sp√©cialit√© (Programme)</label>
                        <select id="userSpecialization" class="styled-select font-bold" onchange="saveUserData()">
                            <option value="social">‚öñÔ∏è Droit Social</option>
                            <option value="affaires">üíº Droit des Affaires</option>
                            <option value="entreprise">üè¢ Juriste d'Entreprise</option>
                        </select>
                    </div>

                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label class="input-label">Promo</label>
                            <select id="promoSelect" class="styled-select" onchange="saveUserData()">
                                <!-- G√©n√©r√© en JS -->
                            </select>
                        </div>
                        <div>
                            <label class="input-label">Session</label>
                            <select id="sessionNb" class="styled-select" onchange="saveUserData()">
                                <option value="1">Session 1</option>
                                <option value="2">Session 2</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2. MON CALENDRIER -->
            <div class="dashboard-card border-t-4 border-t-cta">
                <div class="card-header">
                    <div class="card-icon"><i class="fa-regular fa-calendar-alt"></i></div>
                    <h3 class="font-bold text-lg text-brand-blue">Calendrier Formation</h3>
                </div>
                <div class="space-y-4">
                    <div>
                        <label class="input-label">D√©but de formation</label>
                        <input type="date" id="startDate" class="styled-input" onchange="saveUserData()">
                    </div>
                    <div>
                        <label class="input-label">Fin de formation</label>
                        <input type="date" id="endDate" class="styled-input" onchange="saveUserData()">
                    </div>
                    <div class="bg-gray-50 p-3 rounded-lg text-sm space-y-2 border border-gray-200 mt-2">
                        <div class="flex justify-between">
                            <span class="text-gray-500"><i class="fas fa-briefcase text-cta mr-1"></i> Stage conseill√©</span>
                            <span class="font-bold text-brand-blue">8 semaines</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-500"><i class="fas fa-graduation-cap text-cta mr-1"></i> Examens</span>
                            <span class="font-bold text-brand-blue">Juin & D√©cembre</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 3. DEADLINE & CHRONO -->
            <div id="timerCard" class="dashboard-card border-t-4 border-t-alert">
                <div class="card-header">
                    <div class="card-icon text-alert"><i class="fa-solid fa-hourglass-half"></i></div>
                    <h3 class="font-bold text-lg text-alert">Deadline √âvaluations</h3>
                </div>
                <div class="space-y-4 flex flex-col h-full justify-between">
                    <div>
                        <label class="input-label">Date limite de d√©p√¥t</label>
                        <input type="date" id="evalDeadline" class="styled-input border-alert/30 text-alert font-bold" onchange="saveUserData()">
                    </div>

                    <div id="countdownDisplay" class="hidden grid grid-cols-4 gap-2 text-center mt-2">
                        <div class="bg-brand-blue text-white p-2 rounded-lg">
                            <div class="text-xl font-bold" id="cd-days">00</div>
                            <div class="text-[9px] uppercase opacity-70">Jours</div>
                        </div>
                        <div class="bg-brand-blue text-white p-2 rounded-lg">
                            <div class="text-xl font-bold" id="cd-hours">00</div>
                            <div class="text-[9px] uppercase opacity-70">Hrs</div>
                        </div>
                        <div class="bg-brand-blue text-white p-2 rounded-lg">
                            <div class="text-xl font-bold" id="cd-min">00</div>
                            <div class="text-[9px] uppercase opacity-70">Min</div>
                        </div>
                        <div class="bg-brand-blue text-white p-2 rounded-lg">
                            <div class="text-xl font-bold" id="cd-sec">00</div>
                            <div class="text-[9px] uppercase opacity-70">Sec</div>
                        </div>
                    </div>
                    <p id="countdownPlaceholder" class="text-center text-sm text-gray-400 italic py-4">
                        S√©lectionnez une date pour activer le compte √† rebours.
                    </p>
                </div>
            </div>

        </div>

        <!-- PROGRAMME ACAD√âMIQUE -->
        <section>
            <div class="flex items-center gap-3 mb-6 border-b-2 border-cta pb-2">
                <h3 class="text-2xl font-bold text-brand-blue brand-font">Programme Acad√©mique</h3>
                <span class="text-sm bg-white border border-cta text-brand-blue px-3 py-1 rounded-full font-bold shadow-sm" id="programLabel">Sp√©cialit√©...</span>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6" id="programContainer">
                <!-- Inject√© via JS -->
            </div>
        </section>

        <!-- √âQUIPE P√âDAGOGIQUE -->
        <section class="bg-white p-8 rounded-2xl shadow-sm border border-gray-200">
            <h3 class="text-xl font-bold text-center text-brand-blue mb-8">
                <i class="fa-solid fa-chalkboard-teacher text-cta mr-2"></i> √âquipe P√©dagogique
            </h3>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Intervenant 1 -->
                <div class="text-center group">
                    <div class="w-20 h-20 mx-auto rounded-full bg-ivory flex items-center justify-center text-3xl mb-3 border-2 border-brand-blue shadow-md group-hover:scale-110 transition-transform">üë©‚Äç‚öñÔ∏è</div>
                    <h4 class="font-bold text-brand-blue">Eva PHILIPPE</h4>
                    <span class="text-xs bg-cta text-white px-2 py-1 rounded full font-bold uppercase tracking-wide">R√©f√©rente</span>
                    <p class="text-xs text-gray-500 mt-2">CAPA Avocat - 10 ans d'exp.</p>
                </div>
                <!-- Intervenant 2 -->
                <div class="text-center group">
                    <div class="w-20 h-20 mx-auto rounded-full bg-ivory flex items-center justify-center text-3xl mb-3 border-2 border-gray-200 shadow-sm group-hover:border-cta transition-colors">üìä</div>
                    <h4 class="font-bold text-brand-blue">Caroline DEBRUMEZ</h4>
                    <span class="text-xs text-gray-400 font-bold uppercase tracking-wide">Fiscalit√©</span>
                    <p class="text-xs text-gray-500 mt-2">DESS Fiscalit√© - 10 ans d'exp.</p>
                </div>
                <!-- Intervenant 3 -->
                <div class="text-center group">
                    <div class="w-20 h-20 mx-auto rounded-full bg-ivory flex items-center justify-center text-3xl mb-3 border-2 border-gray-200 shadow-sm group-hover:border-cta transition-colors">üèóÔ∏è</div>
                    <h4 class="font-bold text-brand-blue">B√©n√©dicte BOBIN</h4>
                    <span class="text-xs text-gray-400 font-bold uppercase tracking-wide">Immobilier</span>
                    <p class="text-xs text-gray-500 mt-2">Master 2 Immo - 7 ans d'exp.</p>
                </div>
                <!-- Intervenant 4 -->
                <div class="text-center group">
                    <div class="w-20 h-20 mx-auto rounded-full bg-ivory flex items-center justify-center text-3xl mb-3 border-2 border-gray-200 shadow-sm group-hover:border-cta transition-colors">üíº</div>
                    <h4 class="font-bold text-brand-blue">Christ√®le LECOINTE</h4>
                    <span class="text-xs text-gray-400 font-bold uppercase tracking-wide">Social</span>
                    <p class="text-xs text-gray-500 mt-2">DESS Relations - 10 ans d'exp.</p>
                </div>
            </div>
            <p class="text-center text-[10px] text-gray-400 mt-8 italic">"Studi peut faire appel √† des prestataires externes pour lesquels il conclut un contrat de prestation."</p>
        </section>

        <!-- COMMUNAUT√â -->
        <section class="max-w-4xl mx-auto text-center pb-4">
            <h3 class="text-lg font-bold text-brand-blue mb-4">Rejoindre la Communaut√©</h3>
            <div class="flex justify-center gap-4 flex-wrap">
                <a href="https://discord.gg/Amzqp6Af9D" target="_blank" class="bg-[#5865F2] hover:bg-[#4752C4] text-white px-6 py-3 rounded-full font-bold flex items-center gap-2 transition hover:-translate-y-1 shadow-md">
                    <i class="fab fa-discord text-xl"></i> Discord
                </a>
                <a href="https://chat.whatsapp.com/IoMXFl4o2otExYKCPVj22b" target="_blank" class="bg-[#25D366] hover:bg-[#128C7E] text-white px-6 py-3 rounded-full font-bold flex items-center gap-2 transition hover:-translate-y-1 shadow-md">
                    <i class="fab fa-whatsapp text-xl"></i> WhatsApp
                </a>
            </div>
        </section>

    </main>

    <!-- FOOTER BLEU & TEXTE BLANC -->
    <footer class="site-footer">
        <div class="container mx-auto px-4 text-center">
            <p class="footer-text">
                üí´ The Jurist Elite Club By Studi ‚ú® La Villa des Juristes Bris√©s üíî sur l‚Äô√éle de L‚ÄôINSTRUCTION ! üèù <br>
                <span class="footer-sub">| By Mathilde Martine PAISLEY</span>
            </p>
            <p class="footer-copy" id="footer-dates"></p>
        </div>
    </footer>

    <script>
        // Init Icons
        lucide.createIcons();

        // Dates Footer
        const creationDate = "27/11/2025";
        const today = new Date();
        const updateDate = today.toLocaleDateString('fr-FR', { day: '2-digit', month: '2-digit', year: 'numeric' });
        document.getElementById('footer-dates').innerText = `¬© 2025 Tous droits r√©serv√©s ‚Äì Cr√©ation : ${creationDate} ‚Äì Derni√®re mise √† jour : ${updateDate}`;

        // G√©n√©ration des Promos (Juin/Dec 2026 -> 2030)
        function initPromoSelect() {
            const select = document.getElementById('promoSelect');
            select.innerHTML = '';
            const months = ['Juin', 'D√©cembre'];
            const startYear = 2026;
            const endYear = 2030;

            for (let year = startYear; year <= endYear; year++) {
                months.forEach(month => {
                    const opt = document.createElement('option');
                    const val = `${month} ${year}`;
                    opt.value = val;
                    opt.text = `Promo ${val}`;
                    select.appendChild(opt);
                });
            }
        }
        initPromoSelect();

        // --- DATA PROGRAMMES ---
        const programsData = {
            social: {
                label: "Droit Social ‚öñÔ∏è",
                tagline: "Pr√™te √† conqu√©rir le Droit Social ? üöÄ",
                blocks: [
                    { title: "Fondamentaux", color: "b-intro", hours: "~173h", items: ["Droit Social & Organisation", "Propri√©t√© Intellectuelle", "Droit des Soci√©t√©s", "Concurrence & IA"] },
                    { title: "Pilotage RH", color: "b-strat", hours: "180h", items: ["Veille Sociale & Audit", "Compliance & Conformit√©", "Politique R√©mun√©ration", "Transformation RH"] },
                    { title: "Accompagnement", color: "b-ops", hours: "165h", items: ["Conseil Juridique", "Contrats & Ruptures", "Relations Collectives", "Diagnostic RH"] },
                    { title: "Contentieux", color: "b-litige", hours: "85h", items: ["Risques Prud'homaux", "Gestion de Crise", "Contentieux URSSAF", "Ex√©cution D√©cisions"] }
                ]
            },
            affaires: {
                label: "Droit des Affaires üíº",
                tagline: "Pr√™te √† conqu√©rir le Business ? üíº",
                blocks: [
                    { title: "Fondamentaux", color: "b-intro", hours: "~173h", items: ["Droit des Obligations", "Baux Commerciaux", "Fiscalit√© des Affaires", "Proc√©dures Collectives"] },
                    { title: "Strat√©gie Business", color: "b-strat", hours: "180h", items: ["Veille & Audit d'Acquisition", "Compliance & Sapin II", "RGPD & Data", "Management Juridique"] },
                    { title: "Contrats & Ops", color: "b-ops", hours: "165h", items: ["N√©gociation Contractuelle", "Fusions-Acquisitions", "Propri√©t√© Industrielle", "Ing√©nierie Soci√©taire"] },
                    { title: "Litiges Affaires", color: "b-litige", hours: "85h", items: ["Contentieux Commercial", "Arbitrage & M√©diation", "Droit P√©nal des Affaires", "Recouvrement"] }
                ]
            },
            entreprise: {
                label: "Juriste d'Entreprise üè¢",
                tagline: "Pr√™te √† piloter l'Entreprise ? üè¢",
                blocks: [
                    { title: "Fondamentaux", color: "b-intro", hours: "~173h", items: ["Droit Civil & Commercial", "Financement Entreprise", "Droit des Soci√©t√©s", "Propri√©t√© Intellectuelle"] },
                    { title: "Pilotage Global", color: "b-strat", hours: "180h", items: ["Veille Strat√©gique", "Politiques Conformit√©", "Digitalisation Juridique", "Gestion des Risques"] },
                    { title: "Business Partner", color: "b-ops", hours: "165h", items: ["Conseil Direction", "Techniques Contractuelles", "Gestion Budg√©taire", "RSE & √âthique"] },
                    { title: "Gestion Crise", color: "b-litige", hours: "85h", items: ["Pr√©contentieux", "Strat√©gie Judiciaire", "M√©diation", "Suivi Ex√©cution"] }
                ]
            }
        };

        // --- LOCAL STORAGE & LOGIC ---
        function saveUserData() {
            const data = {
                name: document.getElementById('userName').value,
                surname: document.getElementById('userSurname').value,
                specialization: document.getElementById('userSpecialization').value,
                promo: document.getElementById('promoSelect').value,
                session: document.getElementById('sessionNb').value,
                startDate: document.getElementById('startDate').value,
                endDate: document.getElementById('endDate').value,
                evalDeadline: document.getElementById('evalDeadline').value
            };
            localStorage.setItem('juristEliteData_V13', JSON.stringify(data));
            updateUI(data);
        }

        function loadUserData() {
            const storedData = localStorage.getItem('juristEliteData_V13');
            let data = storedData ? JSON.parse(storedData) : { specialization: 'social', promo: 'Juin 2027' };

            document.getElementById('userName').value = data.name || "";
            document.getElementById('userSurname').value = data.surname || "";
            document.getElementById('userSpecialization').value = data.specialization || "social";
            document.getElementById('promoSelect').value = data.promo || "Juin 2027";
            document.getElementById('sessionNb').value = data.session || "1";
            document.getElementById('startDate').value = data.startDate || "";
            document.getElementById('endDate').value = data.endDate || "";
            document.getElementById('evalDeadline').value = data.evalDeadline || "";
            
            updateUI(data);
        }

        function updateUI(data) {
            // Update Welcome
            const fullName = `${data.name || ''} ${data.surname || ''}`.trim();
            document.getElementById('displayFullName').innerText = fullName || "Juriste";

            // Update Program
            const spec = data.specialization || 'social';
            const program = programsData[spec];
            document.getElementById('welcomeTagline').innerText = program.tagline;
            document.getElementById('programLabel').innerText = program.label;

            const container = document.getElementById('programContainer');
            container.innerHTML = '';
            program.blocks.forEach((block, idx) => {
                const html = `
                <div class="prog-block ${block.color}">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-bold text-lg text-brand-blue">${idx}Ô∏è‚É£ ${block.title}</h4>
                        <span class="bg-gray-100 text-xs font-bold px-2 py-1 rounded text-gray-600">${block.hours}</span>
                    </div>
                    <ul class="space-y-2 text-sm text-gray-600">
                        ${block.items.map(item => `<li><i class="fa-solid fa-check text-green-500 mr-2"></i>${item}</li>`).join('')}
                    </ul>
                </div>`;
                container.innerHTML += html;
            });

            // Update Countdown
            updateCountdown(data.evalDeadline);
        }

        let countdownInterval;
        function updateCountdown(deadlineDate) {
            const displayEl = document.getElementById('countdownDisplay');
            const placeholderEl = document.getElementById('countdownPlaceholder');
            const timerCard = document.getElementById('timerCard');

            if (!deadlineDate) {
                displayEl.classList.add('hidden');
                placeholderEl.classList.remove('hidden');
                timerCard.classList.remove('timer-active');
                return;
            }

            placeholderEl.classList.add('hidden');
            displayEl.classList.remove('hidden');
            if (countdownInterval) clearInterval(countdownInterval);

            function calculate() {
                const now = new Date().getTime();
                const deadline = new Date(deadlineDate).getTime();
                const distance = deadline - now;

                if (distance < 0) {
                    clearInterval(countdownInterval);
                    timerCard.classList.remove('timer-active');
                    return;
                }

                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                document.getElementById('cd-days').innerText = days < 10 ? "0" + days : days;
                document.getElementById('cd-hours').innerText = hours < 10 ? "0" + hours : hours;
                document.getElementById('cd-min').innerText = minutes < 10 ? "0" + minutes : minutes;
                document.getElementById('cd-sec').innerText = seconds < 10 ? "0" + seconds : seconds;

                if (days < 7) timerCard.classList.add('timer-active');
                else timerCard.classList.remove('timer-active');
            }
            calculate();
            countdownInterval = setInterval(calculate, 1000);
        }
    </script>
</body>
</html>
