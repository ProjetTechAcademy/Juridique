<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Jurist Elite Club - Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Lato:wght@300;400;700&display=swap');

        :root {
            --color-cta: #D9A526;
            --color-title: #0F2C48;
            --color-surface: #F6F2E8;
            --color-alert: #B4792A;
            --discord: #5865F2;
            --whatsapp: #25D366;
        }

        body {
            font-family: 'Lato', sans-serif;
            background-color: #fdfdfd;
            color: var(--color-title);
        }

        h1, h2, h3, .brand-font {
            font-family: 'Playfair Display', serif;
        }

        .bg-cta { background-color: var(--color-cta); }
        .text-cta { color: var(--color-cta); }
        .border-cta { border-color: var(--color-cta); }

        .bg-brand-blue { background-color: var(--color-title); }
        .text-brand-blue { color: var(--color-title); }
        .border-brand-blue { border-color: var(--color-title); }

        .bg-surface { background-color: var(--color-surface); }
        
        .text-alert { color: var(--color-alert); }
        .bg-alert { background-color: var(--color-alert); }
        .border-alert { border-color: var(--color-alert); }

        .hover-lift {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .hover-lift:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        /* Custom Input Styles */
        .custom-input {
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            width: 100%;
        }
        .custom-input:focus {
            outline: none;
            border-color: var(--color-cta);
            background-color: rgba(255, 255, 255, 0.2);
        }
        .custom-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }
        
        /* Light Input for light backgrounds */
        .light-input {
            background-color: white;
            border: 1px solid #e5e7eb;
            color: var(--color-title);
            padding: 0.5rem;
            border-radius: 0.25rem;
            width: 100%;
        }
        .light-input:focus {
            outline: none;
            border-color: var(--color-cta);
            ring: 2px solid var(--color-cta);
        }

        /* Timer Animation */
        @keyframes pulse-red {
            0% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(220, 38, 38, 0); }
            100% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0); }
        }
        .timer-urgent {
            animation: pulse-red 2s infinite;
            border-color: #ef4444 !important;
            color: #ef4444 !important;
        }
    </style>
</head>
<body class="flex flex-col min-h-screen" onload="loadUserData()">

    <!-- Header / User Settings -->
    <header class="bg-brand-blue text-white py-6 shadow-lg">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4 mb-6">
                <div class="text-center md:text-left">
                    <div class="text-cta text-3xl mb-1"><i class="fas fa-balance-scale"></i></div>
                    <h1 class="text-2xl md:text-4xl font-bold">Mon Espace Juriste</h1>
                    <p class="italic text-gray-300 text-sm">Tableau de bord personnel</p>
                </div>
                
                <!-- Personal Info Inputs -->
                <div class="bg-white/10 p-4 rounded-lg backdrop-blur-sm border border-white/20 w-full md:w-auto">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-2">
                        <input type="text" id="userName" placeholder="Votre Pr√©nom" class="custom-input" onchange="saveUserData()">
                        <input type="text" id="userSurname" placeholder="Votre Nom" class="custom-input" onchange="saveUserData()">
                    </div>
                    <div class="flex items-center gap-2 text-sm">
                        <span class="text-cta font-bold whitespace-nowrap">Session Vis√©e :</span>
                        <select id="sessionMonth" class="custom-input w-auto cursor-pointer" onchange="saveUserData()">
                            <option value="Juin" class="text-black">Juin</option>
                            <option value="D√©cembre" class="text-black">D√©cembre</option>
                        </select>
                        <select id="sessionYear" class="custom-input w-auto cursor-pointer" onchange="saveUserData()">
                            <option value="2025" class="text-black">2025</option>
                            <option value="2026" class="text-black">2026</option>
                            <option value="2027" class="text-black">2027</option>
                            <option value="2028" class="text-black">2028</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto px-4 py-8 space-y-10">

        <!-- Welcome Message -->
        <h2 class="text-2xl font-bold text-center brand-font">Bienvenue, <span id="displayFullName" class="text-cta">Juriste</span> !</h2>

        <!-- Dashboard Grid: Calendar & Countdown -->
        <div class="grid md:grid-cols-2 gap-8 max-w-6xl mx-auto">
            
            <!-- Dates Config -->
            <div class="bg-surface p-6 rounded-lg shadow-sm border border-gray-200">
                <div class="flex items-center gap-2 mb-4 border-b border-alert/30 pb-2">
                    <i data-lucide="calendar" class="text-alert"></i>
                    <h3 class="font-bold text-lg text-brand-blue">Ma P√©riode de Formation</h3>
                </div>
                <div class="space-y-4">
                    <div>
                        <label class="block text-xs font-bold text-gray-500 uppercase mb-1">Date de d√©but</label>
                        <input type="date" id="startDate" class="light-input" onchange="saveUserData()">
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-gray-500 uppercase mb-1">Date de fin pr√©vue</label>
                        <input type="date" id="endDate" class="light-input" onchange="saveUserData()">
                    </div>
                </div>
            </div>

            <!-- Countdown Timer -->
            <div id="timerCard" class="bg-white p-6 rounded-lg shadow-lg border-2 border-cta relative overflow-hidden">
                <div class="absolute top-0 right-0 bg-cta text-white text-xs font-bold px-2 py-1 rounded-bl">PRIORIT√â</div>
                
                <div class="flex items-center gap-2 mb-4">
                    <i data-lucide="timer" class="text-cta w-6 h-6"></i>
                    <h3 class="font-bold text-lg text-brand-blue">Deadline √âvaluations</h3>
                </div>

                <div class="mb-4">
                    <label class="block text-xs font-bold text-gray-500 uppercase mb-1">Date limite de d√©p√¥t</label>
                    <input type="date" id="evalDeadline" class="light-input border-alert/50" onchange="saveUserData()">
                </div>

                <div id="countdownDisplay" class="hidden">
                    <p class="text-center text-sm text-gray-500 mb-2">Temps restant :</p>
                    <div class="grid grid-cols-4 gap-2 text-center">
                        <div class="bg-brand-blue text-white rounded p-2">
                            <div class="text-xl font-bold" id="cd-days">00</div>
                            <div class="text-[10px] uppercase">Jours</div>
                        </div>
                        <div class="bg-brand-blue text-white rounded p-2">
                            <div class="text-xl font-bold" id="cd-hours">00</div>
                            <div class="text-[10px] uppercase">Heures</div>
                        </div>
                        <div class="bg-brand-blue text-white rounded p-2">
                            <div class="text-xl font-bold" id="cd-min">00</div>
                            <div class="text-[10px] uppercase">Min</div>
                        </div>
                        <div class="bg-brand-blue text-white rounded p-2">
                            <div class="text-xl font-bold" id="cd-sec">00</div>
                            <div class="text-[10px] uppercase">Sec</div>
                        </div>
                    </div>
                </div>
                <div id="countdownPlaceholder" class="text-center text-gray-400 italic text-sm py-4">
                    S√©lectionnez une date limite pour activer le compte √† rebours.
                </div>
            </div>
        </div>

        <!-- Programme Details (Condensed) -->
        <section class="max-w-6xl mx-auto">
            <div class="flex items-center justify-between mb-4 border-b-2 border-brand-blue pb-2">
                <div class="flex items-center gap-3">
                    <i data-lucide="book-open" class="text-brand-blue w-6 h-6"></i>
                    <h2 class="text-xl md:text-2xl font-bold text-brand-blue">Programme Acad√©mique</h2>
                </div>
                <span class="text-xs bg-gray-200 text-gray-600 px-2 py-1 rounded">Sp√©cialisation Droit Social</span>
            </div>
            
            <div class="grid md:grid-cols-4 gap-4">
                <!-- Intro -->
                <div class="bg-surface p-4 rounded hover-lift border-t-4 border-gray-400">
                    <h3 class="font-bold text-brand-blue text-sm mb-2">Introduction</h3>
                    <p class="text-xs text-gray-600">~173h</p>
                    <ul class="text-xs text-gray-500 mt-2 list-disc pl-4">
                        <li>Droit social</li>
                        <li>Contrats</li>
                        <li>Fiscalit√©</li>
                    </ul>
                </div>
                <!-- Bloc 1 -->
                <div class="bg-surface p-4 rounded hover-lift border-t-4 border-cta">
                    <h3 class="font-bold text-brand-blue text-sm mb-2">Bloc 1 : Strat√©gie</h3>
                    <p class="text-xs text-gray-600">180h</p>
                    <ul class="text-xs text-gray-500 mt-2 list-disc pl-4">
                        <li>Veille & Audit</li>
                        <li>Compliance</li>
                        <li>Management RH</li>
                    </ul>
                </div>
                <!-- Bloc 2 -->
                <div class="bg-surface p-4 rounded hover-lift border-t-4 border-cta">
                    <h3 class="font-bold text-brand-blue text-sm mb-2">Bloc 2 : Conseil</h3>
                    <p class="text-xs text-gray-600">165h</p>
                    <ul class="text-xs text-gray-500 mt-2 list-disc pl-4">
                        <li>Conseil op√©rationnel</li>
                        <li>Contrats commerciaux</li>
                        <li>Relations travail</li>
                    </ul>
                </div>
                <!-- Bloc 3 -->
                <div class="bg-surface p-4 rounded hover-lift border-t-4 border-alert">
                    <h3 class="font-bold text-brand-blue text-sm mb-2">Bloc 3 : Contentieux</h3>
                    <p class="text-xs text-gray-600">70-85h</p>
                    <ul class="text-xs text-gray-500 mt-2 list-disc pl-4">
                        <li>Gestion de crise</li>
                        <li>Amiable</li>
                        <li>Ex√©cution d√©cisions</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- CTA Section : Community Access -->
        <section class="max-w-4xl mx-auto w-full">
            <h2 class="text-center text-xl font-bold text-brand-blue mb-6">Acc√©der √† mes Espaces Communautaires</h2>
            <div class="grid md:grid-cols-2 gap-6">
                
                <!-- Discord Button -->
                <a href="https://discord.gg/Amzqp6Af9D" target="_blank" class="group flex items-center justify-between p-4 bg-[#5865F2] hover:bg-[#4752C4] text-white rounded-xl shadow-lg transition-all hover:-translate-y-1">
                    <div class="flex items-center gap-4">
                        <i class="fab fa-discord text-4xl"></i>
                        <div class="text-left">
                            <span class="block font-bold text-lg">Discord</span>
                            <span class="text-xs opacity-80 group-hover:underline">Rejoindre le serveur</span>
                        </div>
                    </div>
                    <i class="fas fa-external-link-alt opacity-50"></i>
                </a>

                <!-- WhatsApp Button -->
                <a href="https://chat.whatsapp.com/IoMXFl4o2otExYKCPVj22b" target="_blank" class="group flex items-center justify-between p-4 bg-[#25D366] hover:bg-[#128C7E] text-white rounded-xl shadow-lg transition-all hover:-translate-y-1">
                    <div class="flex items-center gap-4">
                        <i class="fab fa-whatsapp text-4xl"></i>
                        <div class="text-left">
                            <span class="block font-bold text-lg">WhatsApp</span>
                            <span class="text-xs opacity-80 group-hover:underline">Rejoindre le groupe</span>
                        </div>
                    </div>
                    <i class="fas fa-external-link-alt opacity-50"></i>
                </a>

            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-brand-blue text-white py-8 mt-auto border-t-4 border-alert">
        <div class="container mx-auto px-4 text-center space-y-4">
            
            <div class="flex items-center justify-center gap-2 text-xl font-serif">
                <span>üí´</span>
                <span class="font-bold tracking-wider">The Jurist Elite Club By Studi</span>
                <span>üå∏</span>
            </div>

            <p class="text-sm md:text-base text-gray-300 font-light italic">
                La Villa des Juristes Bris√©s üíî sur l‚Äô√éle de L‚ÄôINSTRUCTION ! üèù <br>
                <span class="text-xs not-italic mt-1 block opacity-80">| By Mathilde Martine PAISLEY</span>
            </p>

            <div class="border-t border-white/20 w-1/2 mx-auto my-4"></div>

            <p class="text-xs text-gray-400" id="footer-dates">
                <!-- Date inserted via JS -->
            </p>
        </div>
    </footer>

    <script>
        // Icons initialization
        lucide.createIcons();

        // Footer Date Logic
        const creationDate = "27/11/2025";
        const today = new Date();
        const options = { day: '2-digit', month: '2-digit', year: 'numeric' };
        const updateDate = today.toLocaleDateString('fr-FR', options);
        document.getElementById('footer-dates').innerText = `¬© 2025 Tous droits r√©serv√©s ‚Äì Cr√©ation : ${creationDate} ‚Äì Derni√®re mise √† jour : ${updateDate}`;

        // --- LOCAL STORAGE & LOGIC ---

        function saveUserData() {
            const data = {
                name: document.getElementById('userName').value,
                surname: document.getElementById('userSurname').value,
                sessionMonth: document.getElementById('sessionMonth').value,
                sessionYear: document.getElementById('sessionYear').value,
                startDate: document.getElementById('startDate').value,
                endDate: document.getElementById('endDate').value,
                evalDeadline: document.getElementById('evalDeadline').value
            };
            localStorage.setItem('juristEliteData', JSON.stringify(data));
            updateUI(data);
        }

        function loadUserData() {
            const storedData = localStorage.getItem('juristEliteData');
            if (storedData) {
                const data = JSON.parse(storedData);
                document.getElementById('userName').value = data.name || "";
                document.getElementById('userSurname').value = data.surname || "";
                document.getElementById('sessionMonth').value = data.sessionMonth || "Juin";
                document.getElementById('sessionYear').value = data.sessionYear || "2027";
                document.getElementById('startDate').value = data.startDate || "";
                document.getElementById('endDate').value = data.endDate || "";
                document.getElementById('evalDeadline').value = data.evalDeadline || "";
                
                updateUI(data);
            }
        }

        function updateUI(data) {
            // Update Welcome Name
            const fullName = `${data.name} ${data.surname}`.trim();
            document.getElementById('displayFullName').innerText = fullName || "Juriste";

            // Update Countdown
            updateCountdown(data.evalDeadline);
        }

        // Countdown Logic
        let countdownInterval;

        function updateCountdown(deadlineDate) {
            const displayEl = document.getElementById('countdownDisplay');
            const placeholderEl = document.getElementById('countdownPlaceholder');
            const timerCard = document.getElementById('timerCard');

            if (!deadlineDate) {
                displayEl.classList.add('hidden');
                placeholderEl.classList.remove('hidden');
                timerCard.classList.remove('timer-urgent');
                return;
            }

            placeholderEl.classList.add('hidden');
            displayEl.classList.remove('hidden');

            if (countdownInterval) clearInterval(countdownInterval);

            function calculate() {
                const now = new Date().getTime();
                const deadline = new Date(deadlineDate).getTime();
                const distance = deadline - now;

                if (distance < 0) {
                    clearInterval(countdownInterval);
                    document.getElementById('cd-days').innerText = "00";
                    document.getElementById('cd-hours').innerText = "00";
                    document.getElementById('cd-min').innerText = "00";
                    document.getElementById('cd-sec').innerText = "00";
                    timerCard.classList.add('border-gray-400'); // Finished style
                    return;
                }

                // Time calculations
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                document.getElementById('cd-days').innerText = days < 10 ? "0" + days : days;
                document.getElementById('cd-hours').innerText = hours < 10 ? "0" + hours : hours;
                document.getElementById('cd-min').innerText = minutes < 10 ? "0" + minutes : minutes;
                document.getElementById('cd-sec').innerText = seconds < 10 ? "0" + seconds : seconds;

                // Urgency styling (less than 7 days)
                if (days < 7) {
                    timerCard.classList.add('timer-urgent');
                } else {
                    timerCard.classList.remove('timer-urgent');
                }
            }

            calculate(); // Run immediately
            countdownInterval = setInterval(calculate, 1000);
        }

    </script>
</body>
</html>
